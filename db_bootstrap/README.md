-- Author: Dinesh Thangaraj <ttsdinesh@gmail.com>

-- MySQL version 5.7.20

#Readme:
This folder contains the database initialization script. 

-- Connect to mysql. Please note that when mysql is installed first, do not forget to note the temporary root password
	> mysql -uroot -p
-- Change roor user password if not already changed
	> ALTER USER 'root'@'localhost' IDENTIFIED BY 'yourchoice';
-- Create new user fortumo_test_user
	> CREATE USER 'fortumo_test_user'@'localhost' IDENTIFIED BY 'fortumo_test_password';
-- Create new DB
	> CREATE DATABASE fortumo_test_task;
-- Grant permission to the user for the table
	> GRANT ALL ON fortumo_test_task.* TO 'fortumo_test_user'@'localhost';
-- Exit and login as fortumo_test_user
	> mysql -ufortumo_test_user -p
-- Check the database existance
	> SHOW DATABASES;
-- Note that mysql does not have a function like generate_series.
-- Some pre-requisite data like sequence numbers and partitions are generated by java tools located at ~/ms-dev-test-task/src/main/java/io/fortumo/tools/
-- Source greenfields.sql to create pre-requisites. This would take ~ 30 seconds
	> SOURCE <location to the dir>/greenfield.sql
-- Source mysql_bootstrap.sql to create other required tables. This would take ~ 6 minutes
	> SOURCE <location to the dir>/mysql_bootstrap.sql
-- Check the data by couting payments and ensure count greater than 75*1000*1000
	> SELECT COUNT(*) FROM payments;

~Voila~
